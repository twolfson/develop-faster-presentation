#!/usr/bin/env node

// Set up CLI options
var program = require('commander')
                .version(require('../package.json').version);

function goToStep(step, argv) {
  // TODO: Get step
  // TODO: Make sure it is over 0 and under length
  // Load up step
  // TODO: Consider outputting step 3/10
  // Save new state
  console.log(this, arguments);
}
program
  .command('step <step>')
  .description('Jump to a specific step')
  .action(goToStep);

program
  .command('first')
  .description('Go back to the beginning')
  .action(function () {
    goToStep(0);
  });

program
  .command('last')
  .description('Jump to the final step')
  .action(function () {
    goToStep(0);
  });

program
  .command('next')
  .description('Move following by one step')
  .action(function () {
    // TODO: Grab state
    // TODO: Maybe manage state via a class with a namespace for this path?
    // TODO: Or that leveldb magic...
  });

program
  .command('back')
  .description('Move to the previous step')
  .action(function () {
    // TODO: Follow similar approach as `next`
  });

// TODO: State will be managed by global environment variable or ~/.develop-faster-state?
// TODO: Maybe leveldb?

// TODO: Fix `git push --set-upstream origin master` on `git-release`


// Proposed structure:

// bin will manage state and determine step to load
// lib will have export that loads a specific step
// lib/steps will contain each step
