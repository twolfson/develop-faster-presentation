#!/usr/bin/env node

// TODO: In theory, this entire bin script can become its own node module
// Set up CLI options
var program = require('commander')
                .version(require('../package.json').version);

// Define common slide jumping function
function goToSlide(slide, argv) {
  // TODO: Get slide
  // TODO: Make sure it is over 0 and under length
  // Load up slide
  // TODO: Consider outputting slide 3/10
  // Save new state
  console.log(process.env.HAI);
  process.env.HAI = '1';

  // console.log(this, arguments);
}

// Define CLI commands
program
  .command('slide <slide>')
  .description('Jump to a specific slide')
  .action(goToSlide);

program
  .command('first')
  .description('Go back to the beginning')
  .action(function () {
    goToSlide(0);
  });

program
  .command('last')
  .description('Jump to the final slide')
  .action(function () {
    // TODO: Grab all slides and move to the last one
    // goToSlide(0);
  });

program
  .command('next')
  .description('Move following by one slide')
  .action(function () {
    // TODO: Grab state
    // TODO: Maybe manage state via a class with a namespace for this path?
    // TODO: Or that leveldb magic...
  });

program
  .command('back')
  .description('Move to the previous slide')
  .action(function () {
    // TODO: Follow similar approach as `next`
  });

// Parse the arguments
program.parse(process.argv);

// TODO: State will be managed by global environment variable or ~/.develop-faster-state?
// TODO: Maybe leveldb?

// TODO: Fix `git push --set-upstream origin master` on `git-release`


// Proposed structure:

// bin will manage state and determine slide to load
// lib will have export that loads a specific slide
// lib/slides will contain each slide
